<link rel="import" href="../bower_components/polymer/polymer.html">
<dom-module id="projetos-subsecao-osc">
  <template>
    <template id="primeira-linha-projetos" is="dom-repeat" items="{{projeto.primeiraLinha}}" as="primeiraLinha" index-as="primeiraLinha_no">
      <div class="row no-gutter bordered">
        <div>
          <div class="header">{{primeiraLinha.rotulo}}</div>
          <div class="form-group">
            <p class="form-control-static">{{primeiraLinha.valor}}</p>
          </div>
        </div>
      </div>
    </template>
    <div class="row no-gutter bordered">
      <template id="segunda-linha-projetos" is="dom-repeat" items="{{projeto.segundaLinha}}" as="segundaLinha" index-as="segundaLinha_no">
        <div class="col-md-3">
          <div class="header">{{segundaLinha.rotulo}}</div>
          <div class="form-group">
            <p class="form-control-static">{{segundaLinha.valor}}</p>
          </div>
        </div>
      </template>
    </div>
    <div class="row no-gutter bordered">
      <template id="terceira-linha-projetos" is="dom-repeat" items="{{projeto.terceiraLinha}}" as="terceiraLinha" index-as="terceiraLinha_no">
        <div class="col-md-3">
          <template is="dom-if" if="{{isAutodeclarada(terceiraLinha.tipo)}}">
            <div class="header">{{terceiraLinha.rotulo}}</div>
            <template is="dom-repeat" items="{{terceiraLinha.valor}}" as="valor">
              <div class="form-group">
                <p class="form-control-static">{{valor}}</p>
              </div>
            </template>
          </template>
          <template is="dom-if" if="{{isBeneficiarios(terceiraLinha.tipo)}}">
            <template is="dom-repeat" items="{{terceiraLinha.valores}}" as="valores">
              <div class="header">{{valores.rotulo}}</div>
              <template is="dom-if" if="{{isMultiplosValores(valores.valor)}}">
                <template is="dom-repeat" items="{{valores.valor}}" as="valor">
                  <div class="form-group">
                    <p class="form-control-static">{{valor}}</p>
                  </div>
                </template>
              </template>
              <template is="dom-if" if="{{!isMultiplosValores(valores.valor)}}">
                <div class="form-group">
                  <p class="form-control-static">{{valores.valor}}</p>
                </div>
              </template>
            </template>
          </template>
          <template is="dom-if" if="{{!isBeneficiarios(terceiraLinha.tipo)}}">
            <template is="dom-repeat" items="{{terceiraLinha.valores}}" as="valores">
              <div class="header">{{valores.rotulo}}</div>
              <template is="dom-if" if="{{isMultiplosValores(valores.valor)}}">
                <template is="dom-repeat" items="{{valores.valor}}" as="valor">
                  <div class="form-group">
                    <p class="form-control-static">{{valor}}</p>
                  </div>
                </template>
              </template>
              <template is="dom-if" if="{{!isMultiplosValores(valores.valor)}}">
                <template is="dom-if" if="{{isFinanciadores(valores.rotulo)}}">
                  <div class="form-group">
                    <textarea class="form-control" disabled="disabled">{{valores.valor}}</textarea>
                  </div>
                </template>
                <template is="dom-if" if="{{!isFinanciadores(valores.rotulo)}}">
                  <div class="form-group">
                    <p class="form-control-static">{{valores.valor}}</p>
                  </div>
                </template>
              </template>
            </template>
          </template>
        </div>
      </template>
    </div>
    <div class="row no-gutter bordered">
      <template id="quarta-linha-projetos" is="dom-repeat" items="{{projeto.quartaLinha}}" as="quartaLinha" index-as="quartaLinha_no">
        <template is="dom-if" if="{{isZona(quartaLinha.tipo)}}">
          <div class="col-md-3">
            <template is="dom-repeat" items="{{quartaLinha.valores}}" as="zona">
              <div class="header">{{zona.rotulo}}</div>
              <div class="form-group">
                <p class="form-control-static">{{zona.valor}}</p>
              </div>
            </template>
          </div>
        </template>
        <template is="dom-if" if="{{!isZona(quartaLinha.tipo)}}">
          <template is="dom-if" if="{{isParceira(quartaLinha.rotulo)}}">
            <div class="col-md-6">
              <div class="header">{{quartaLinha.rotulo}}</div>
              <div class="form-group">
                <p class="form-control-static">{{quartaLinha.valor}}</p>
              </div>
            </div>
          </template>
          <template is="dom-if" if="{{!isParceira(quartaLinha.rotulo)}}">
            <div class="col-md-3">
              <div class="header">{{quartaLinha.rotulo}}</div>
              <div class="form-group">
                <p class="form-control-static">{{quartaLinha.valor}}</p>
              </div>
            </div>
          </template>
        </template>
      </template>
    </div>
    <div class="row no-gutter bordered">
      <template id="quinta-linha-projetos" is="dom-repeat" items="{{projeto.quintaLinha}}" as="quintaLinha" index-as="quintaLinha_no">
        <div class="col-md-12">
          <div class="header">{{quintaLinha.rotulo}}</div>
          <div class="form-group">
            <textarea class="form-control" disabled="disabled">{{quintaLinha.valor}}</textarea>
          </div>
        </div>
      </template>
    </div>
  </template>
</dom-module>
<script>
  Polymer({
    is: "projetos-subsecao-osc",
    properties: {
      projeto: {
        type: Array,
        value: []
      },
      columnsSizes:{
        type: Object,
        value: {
          short: "col-md-2",
          mid: "col-md-4",
          half: "col-md-6",
          long: "col-md-8",
          longer: "col-md-10"
        }
      }
    },
    ready: function () {
      console.log(this.projeto);
    },
    isBeneficiarios: function (tipo) {
      return tipo == "beneficiarios";
    },
    isAutodeclarada: function (tipo) {
      return tipo == "autodeclarada";
    },
    isMultiplosValores: function (valor) {
      return Array.isArray(valor);
    },
    isFinanciadores: function (rotulo) {
      return rotulo == "Financiadores do Projeto";
    },
    isParceira: function (rotulo) {
      return rotulo == "OSCs Parceiras";
    },
    isZona: function (tipo) {
      return tipo == "zona";
    }
  });
</script>
