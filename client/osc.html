<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Portal OSC</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.min.js"></script>
</head>
<body>
	<h1>OSC</h1>
	<span>OSC: </span><span id="osc"></span>
	
	<script type="text/javascript">
// 		window.onload = function(){
// 			var query_string = {};
// 			var query = window.location.search.substring(1);
// 			var vars = query.split("&");
// 			for(var i = 0; i < vars.length; i++) {
// 				var pair = vars[i].split("=");
// 			    if (typeof query_string[pair[0]] === "undefined") {
// 			      query_string[pair[0]] = decodeURIComponent(pair[1]);
// 			    } else if (typeof query_string[pair[0]] === "string") {
// 			      var arr = [ query_string[pair[0]],decodeURIComponent(pair[1]) ];
// 			      query_string[pair[0]] = arr;
// 			    } else {
// 			      query_string[pair[0]].push(decodeURIComponent(pair[1]));
// 			    }
// 			}
			
// 			var url = 'http://localhost:3000/osc/' + query_string.id;
// 			$.get(url, function(res){
// 				document.getElementById("osc").innerText = res.bosc_nm_osc;
// 		    });
// 		}
		
		function getUrlParameter(sParam) {
		    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
		        sURLVariables = sPageURL.split('&'),
		        sParameterName,
		        i;

		    for (i = 0; i < sURLVariables.length; i++) {
		        sParameterName = sURLVariables[i].split('=');

		        if (sParameterName[0] === sParam) {
		            return sParameterName[1] === undefined ? true : sParameterName[1];
		        }
		    }
		};
		
		var url = 'http://localhost:3000/osc/' + getUrlParameter('id');
		$.get(url, function(res){
			document.getElementById("osc").innerText = res.bosc_nm_osc;
	    });
	</script>
</body>
</html>